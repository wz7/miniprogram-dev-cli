const{readdirSync:r,readFileSync:n,writeFileSync:e,existsSync:s,unlinkSync:t,rmdirSync:i}=require("fs"),{resolve:o,join:c}=require("path"),a=__dirname.split("node_modules")[0],d=require(c(a,"package.json")),f=require(o("package.json")),p=o("dist"),u=function(){const r=["wxss","ttss","acss","css"].findIndex((r=>s(c(a,`app.${r}`))));return["wx","tt","my","xhs"][r]||d.platform}(),l=(f.buildConfig||{}).platforms||[];if(l.length<=1&&process.exit(1),!u)throw new Error("无法自动识别平台，请在package.json中通过platform属性指定");const m=c(a,u);r(m).map((r=>{const s=c(m,r),t=n(s,"utf-8");e(c(p,r),t,"utf-8")})),l.forEach((n=>{!function(n){const e=o(`dist/${n}`);r(e).forEach((r=>{t(c(dir,r))})),i(dir)}(n)}));
